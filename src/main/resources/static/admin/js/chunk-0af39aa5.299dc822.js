(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0af39aa5"],{"0007":function(t,e,a){"use strict";var n=a("9093"),i=a.n(n);i.a},4149:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.addOrUpdateVisible,expression:"!addOrUpdateVisible"}]},[a("el-form",{attrs:{inline:!0,model:t.dataForm}},[a("el-form-item",[t.isAuth("wx:wxassets:save")?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.addOrUpdateHandle()}}},[t._v("新增")]):t._e()],1)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dataListLoading,expression:"dataListLoading"}],staticClass:"flex justify-start"},t._l(t.rows,(function(e){return a("div",{key:e},[t._l(t.dataList,(function(n,i){return[i%t.rows==e-1?a("div",{key:n.mediaId,staticClass:"card",on:{click:function(e){return t.onSelect(n)}}},[a("div",{staticClass:"card-preview"},t._l(n.content.articles,(function(e,n){return a("a",{key:n,staticClass:"article-item",attrs:{href:e.url,target:"_blank"}},[a("div",{staticClass:"article-title"},[t._v(t._s(e.title))]),a("el-image",{staticClass:"article-thumb",attrs:{src:e.thumbUrl}})],1)})),0),a("div",{staticClass:"card-footer"},[a("div",[t._v(t._s(t.$moment(n.updateTime).calendar()))]),t.selectMode?t._e():a("div",{staticClass:"flex justify-between align-center"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:n.mediaId,expression:"item.mediaId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onCopyError,expression:"onCopyError",arg:"error"}],attrs:{size:"mini",type:"text",icon:"el-icon-copy-document"}},[t._v("复制media_id")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.addOrUpdateHandle(n)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(e){return t.deleteHandle(n.mediaId)}}},[t._v("删除")])],1)])]):t._e()]}))],2)})),0),a("el-pagination",{attrs:{"current-page":t.pageIndex,"page-size":t.pageSize,total:t.totalCount,layout:"total, prev,pager, next, jumper"},on:{"current-change":t.currentChangeHandle}})],1),a("add-or-update",{ref:"addOrUpdate",attrs:{visible:t.addOrUpdateVisible},on:{refreshDataList:t.onChange,hide:function(e){t.addOrUpdateVisible=!1}}})],1)},i=[],r=(a("a9e3"),a("d3b7"),{name:"material-news",components:{AddOrUpdate:function(){return a.e("chunk-35a9a1a8").then(a.bind(null,"c1e1"))}},props:{selectMode:{type:Boolean,default:!1},rows:{type:Number,default:4}},data:function(){return{dataForm:{},addOrUpdateVisible:!1,dataList:[],pageIndex:1,pageSize:20,totalCount:0,dataListLoading:!1}},mounted:function(){this.init()},methods:{init:function(){this.dataList.length||this.getDataList()},getDataList:function(){var t=this;this.dataListLoading||(this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("/manage/wxAssets/materialNewsBatchGet"),params:this.$http.adornParams({page:this.pageIndex})}).then((function(e){var a=e.data;200==a.code?(t.dataList=a.data.items,t.totalCount=a.data.totalCount):t.$message.error(a.msg),t.dataListLoading=!1})))},onSelect:function(t){this.selectMode&&this.$emit("selected",t)},deleteHandle:function(t){var e=this;this.$confirm("确定对[mediaId=".concat(t,"]进行删除操作?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$http({url:e.$http.adornUrl("/manage/wxAssets/materialDelete"),method:"post",data:{mediaId:t}}).then((function(t){var a=t.data;a&&200===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.materialFileBatchGet()}}):e.$message.error(a.msg)}))}))},currentChangeHandle:function(t){this.pageIndex=t,this.getDataList()},addOrUpdateHandle:function(t){var e=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){e.$refs.addOrUpdate.init(t||"")}))},onCopySuccess:function(){this.$message.success("已复制")},onCopyError:function(t){this.$message.error("复制失败,可能是此浏览器不支持复制")},onChange:function(){this.getDataList(),this.$emit("change")}}}),s=r,o=(a("0007"),a("2877")),c=Object(o["a"])(s,n,i,!1,null,"41dbc55a",null);e["default"]=c.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),i=a("5899"),r="["+i+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},9093:function(t,e,a){},a9e3:function(t,e,a){"use strict";var n=a("83ab"),i=a("da84"),r=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),d=a("7156"),l=a("c04e"),u=a("d039"),p=a("7c73"),f=a("241c").f,m=a("06cf").f,h=a("9bf2").f,g=a("58a8").trim,v="Number",b=i[v],I=b.prototype,x=c(p(I))==v,C=function(t){var e,a,n,i,r,s,o,c,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=g(d),e=d.charCodeAt(0),43===e||45===e){if(a=d.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+d}for(r=d.slice(2),s=r.length,o=0;o<s;o++)if(c=r.charCodeAt(o),c<48||c>i)return NaN;return parseInt(r,n)}return+d};if(r(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var w,y=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof y&&(x?u((function(){I.valueOf.call(a)})):c(a)!=v)?d(new b(C(e)),a,y):C(e)},N=n?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;N.length>_;_++)o(b,w=N[_])&&!o(y,w)&&h(y,w,m(b,w));y.prototype=I,I.constructor=y,s(i,v,y)}}}]);