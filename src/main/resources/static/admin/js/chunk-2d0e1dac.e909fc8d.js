(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e1dac"],{"7be0":function(t,a,r){"use strict";r.r(a);var e=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:t.visible,width:"40%"},on:{"update:visible":function(a){t.visible=a}}},[r("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px",size:"small"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.dataFormSubmit()}}},[r("el-form-item",{attrs:{label:"连接名词",prop:"name"}},[r("el-input",{attrs:{placeholder:"连接名词"},model:{value:t.dataForm.name,callback:function(a){t.$set(t.dataForm,"name",a)},expression:"dataForm.name"}})],1),r("el-form-item",{attrs:{label:"连接路径",prop:"url"}},[r("el-input",{attrs:{placeholder:"连接路径"},model:{value:t.dataForm.url,callback:function(a){t.$set(t.dataForm,"url",a)},expression:"dataForm.url"}})],1),r("el-form-item",{attrs:{label:"显示顺序"}},[r("el-input-number",{attrs:{"controls-position":"right",min:1},on:{change:t.handleChange},model:{value:t.dataForm.priority,callback:function(a){t.$set(t.dataForm,"priority",a)},expression:"dataForm.priority"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"备注"},model:{value:t.dataForm.remark,callback:function(a){t.$set(t.dataForm,"remark",a)},expression:"dataForm.remark"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(a){t.visible=!1}}},[t._v("取消")]),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},o=[],i=(r("b0c0"),{data:function(){return{visible:!1,dataForm:{id:0,name:void 0,url:void 0,priority:1,remark:void 0},dataRule:{name:[{required:!0,message:"连接名称不能为空",trigger:"blur"}],url:[{required:!0,message:"连接地址不能为空",trigger:"blur"}]}}},methods:{init:function(t){var a=this;this.dataForm.id=t||0,this.reset(),this.visible=!0,this.resetForm("dataForm"),this.$nextTick((function(){a.dataForm.id&&a.$http({url:a.$http.adornUrl("/cms/link/detail/"),method:"get",params:a.$http.adornParams({id:a.dataForm.id})}).then((function(t){var r=t.data;r&&200===r.code&&(a.dataForm.id=r.linkInfo.linkId,a.dataForm.name=r.linkInfo.name,a.dataForm.url=r.linkInfo.url,a.dataForm.priority=r.linkInfo.priority,a.dataForm.remark=r.linkInfo.remark)}))}))},dataFormSubmit:function(){var t=this;this.$refs["dataForm"].validate((function(a){a&&t.$http({url:t.$http.adornUrl("/cms/link/".concat(t.dataForm.id?"update":"add")),method:"post",data:t.$http.adornData({linkId:t.dataForm.id||void 0,name:t.dataForm.name,url:t.dataForm.url,priority:t.dataForm.priority,remark:t.dataForm.remark})}).then((function(a){var r=a.data;r&&200===r.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(r.msg)}))}))},reset:function(){this.form={id:void 0,name:void 0,url:void 0,priority:1,remark:void 0},this.resetForm("form")},handleChange:function(t){console.log(t)}}}),n=i,l=r("2877"),d=Object(l["a"])(n,e,o,!1,null,null,null);a["default"]=d.exports}}]);